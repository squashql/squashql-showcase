(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{9688:function(e,t,n){Promise.resolve().then(n.bind(n,9074))},722:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var s,i,l=n(3827),a=n(4090);function r(e){if("expression"in e)return e.alias;if(e.fullName)return e.fullName;if(e.alias)return e.alias;throw Error("Unexpected type "+e)}function o(e){var t;return(0,l.jsxs)("div",{children:[function(e){switch(e){case 0:return"Rows";case 1:return"Columns";case 2:return"Measures"}}(e.type),":",null===(t=e.elements)||void 0===t?void 0:t.map((t,n)=>(0,l.jsx)("span",{className:"ms-1 mb-1 badge rounded-pill text-bg-dark",style:{cursor:"pointer"},onClick:()=>(function(e,t){let n=t.type,s=t.selectableElements,i=t.elements,l=i.map(e=>r(e)).indexOf(e),a=i.slice(),o=s.slice();o.push(a[l]),a.splice(l,1),t.elementsDispatcher(a),t.selectableElementsDispatcher(o),t.queryResultDispatcher(a,n)})(r(t),e),children:r(t)},n)),(0,l.jsx)("div",{className:"w-25",children:(0,l.jsxs)("select",{value:"DEFAULT",className:"form-select form-select-sm",onChange:t=>(function(e,t){let n=t.type,s=t.selectableElements,i=t.elements,l=s.map(e=>r(e)).indexOf(e.target.value),a=s.slice();i.push(a[l]),a.splice(l,1),t.elementsDispatcher(i),t.selectableElementsDispatcher(a),t.queryResultDispatcher(i,n)})(t,e),children:[(0,l.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Select option"}),e.selectableElements.map((e,t)=>(0,l.jsx)("option",{value:r(e),children:r(e)},t))]})})]})}(s=i||(i={}))[s.ROWS=0]="ROWS",s[s.COLUMNS=1]="COLUMNS",s[s.VALUES=2]="VALUES";var c=n(4194);class u{async executePivotQuery(e,t,n,s,i){let l=t.concat(n);if(0!==l.length&&0!==s.length){let a={rows:t,columns:n,minify:i};return this.querier.executePivotQuery(e.query(l,s,a),a)}}constructor(){this.querier=new c.Querier("http://localhost:8080")}}let d=new u;var p=n(4232);function h(e){let t=e.queryProvider,[s,r]=(0,a.useState)(),[c,u]=(0,a.useState)([]),[h,m]=(0,a.useState)([]),[b,f]=(0,a.useState)(t.selectableFields),[y,x]=(0,a.useState)(t.measures),[w,g]=(0,a.useState)([]),[v,F]=(0,a.useState)(!0);function T(e,t){let n=c,s=h,l=w;switch(t){case i.ROWS:n=e;break;case i.COLUMNS:s=e;break;case i.VALUES:l=e}return N(n,s,l,v)}function N(e,n,s,i){return d.executePivotQuery(t,e.map(e=>e),n.map(e=>e),s.map(e=>e),i).then(e=>r(e))}let E=(0,p.default)(()=>Promise.all([n.e(470),n.e(835),n.e(726),n.e(696)]).then(n.bind(n,5696)),{loadableGenerated:{webpack:()=>[5696]},ssr:!1});return(0,l.jsxs)("div",{className:"ms-1",children:[(0,l.jsx)("nav",{"aria-label":"breadcrumb",children:(0,l.jsxs)("ol",{className:"breadcrumb",children:[(0,l.jsx)("li",{className:"breadcrumb-item",children:(0,l.jsx)("a",{href:"../",children:"Home"})}),(0,l.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:e.title})]})}),(0,l.jsx)(o,{type:i.ROWS,elements:c,selectableElements:b,elementsDispatcher:u,selectableElementsDispatcher:f,queryResultDispatcher:T}),(0,l.jsx)(o,{type:i.COLUMNS,elements:h,selectableElements:b,elementsDispatcher:m,selectableElementsDispatcher:f,queryResultDispatcher:T}),(0,l.jsx)(o,{type:i.VALUES,elements:w,selectableElements:y,elementsDispatcher:g,selectableElementsDispatcher:x,queryResultDispatcher:T}),(0,l.jsxs)("div",{className:"row row-cols-auto",children:[(0,l.jsx)("div",{className:"col",children:(0,l.jsx)("button",{className:"btn btn-ligth",onClick:function(){return N(c,h,w,v)},children:"Refresh"})}),(0,l.jsxs)("div",{className:"col py-2",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"flexCheckChecked",checked:v,onChange:function(){F(!v),N(c,h,w,!v)}}),(0,l.jsx)("label",{className:"form-check-label px-1",htmlFor:"flexCheckChecked",children:"Minify"})]}),e.elements]}),void 0!==s?(0,l.jsx)(E,{result:s}):void 0]})}},8257:function(e,t,n){"use strict";n.d(t,{Fx:function(){return d},RE:function(){return u},cn:function(){return c},lB:function(){return o}});var s=n(4194);class i{constructor(){this._name="spending",this.city=new s.TableField("spending.city"),this.country=new s.TableField("spending.country"),this.continent=new s.TableField("spending.continent"),this.spendingCategory=new s.TableField("spending.spending category"),this.spendingSubcategory=new s.TableField("spending.spending subcategory"),this.year=new s.TableField("spending.year"),this.amount=new s.TableField("spending.amount"),this._fields=[this.city,this.country,this.continent,this.spendingCategory,this.spendingSubcategory,this.year,this.amount]}}class l{constructor(){this._name="portfolio",this.ticker=new s.TableField("portfolio.Ticker"),this.dateScenario=new s.TableField("portfolio.DateScenario"),this.currency=new s.TableField("portfolio.Currency"),this.nbShares=new s.TableField("portfolio.NbShares"),this.riskType=new s.TableField("portfolio.RiskType"),this.scenarioValue=new s.TableField("portfolio.ScenarioValue"),this._fields=[this.ticker,this.dateScenario,this.currency,this.nbShares,this.riskType,this.scenarioValue]}}class a{constructor(){this._name="population",this.country=new s.TableField("population.country"),this.continent=new s.TableField("population.continent"),this.population=new s.TableField("population.population"),this._fields=[this.country,this.continent,this.population]}}class r{constructor(){this._name="budget",this.incomeExpenditure=new s.TableField("budget.Income / Expenditure"),this.category=new s.TableField("budget.Category"),this.subcategory=new s.TableField("budget.Subcategory"),this.year=new s.TableField("budget.Year"),this.month=new s.TableField("budget.Month"),this.day=new s.TableField("budget.Day"),this.date=new s.TableField("budget.Date"),this.description=new s.TableField("budget.Description"),this.amount=new s.TableField("budget.Amount"),this.happinessScore=new s.TableField("budget.Happiness score"),this.scenario=new s.TableField("budget.Scenario"),this._fields=[this.incomeExpenditure,this.category,this.subcategory,this.year,this.month,this.day,this.date,this.description,this.amount,this.happinessScore,this.scenario]}}let o=new i,c=new l,u=new a,d=new r},9074:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var s=n(3827),i=n(722),l=n(4194),a=n(8257);class r{constructor(){this._name="satisfactionLevels",this.satisfactionLevel=new l.TableField("satisfactionLevels.satisfactionLevel"),this.lowerBound=new l.TableField("satisfactionLevels.lowerBound"),this.upperBound=new l.TableField("satisfactionLevels.upperBound"),this._fields=[this.satisfactionLevel,this.lowerBound,this.upperBound]}}class o{constructor(){this._name="expenseLevels",this.expenseLevel=new l.TableField("expenseLevels.expenseLevel"),this.lowerBound=new l.TableField("expenseLevels.lowerBound"),this.upperBound=new l.TableField("expenseLevels.upperBound"),this._fields=[this.expenseLevel,this.lowerBound,this.upperBound]}}let c=new r,u=new o,d=new l.VirtualTable(u._name,[u.expenseLevel.fieldName,u.lowerBound.fieldName,u.upperBound.fieldName],[["low",0,10],["medium",10,40],["high",40,500]]),p=[["neutral",0,2],["happy",2,4],["very happy",4,5]];class h{query(e,t){let n=(0,l.from)(a.Fx._name),s=[];if(e.includes(c.satisfactionLevel)){let e=this.recordsProvider();n.joinVirtual(new l.VirtualTable(c._name,[c.satisfactionLevel.fieldName,c.lowerBound.fieldName,c.upperBound.fieldName],e),l.JoinType.INNER).on((0,l.all)([(0,l.criterion_)(a.Fx.happinessScore,c.lowerBound,l.ConditionType.GE),(0,l.criterion_)(a.Fx.happinessScore,c.upperBound,l.ConditionType.LT)])),s.push(e=>e.orderByFirstElements(c.satisfactionLevel,["neutral","happy","very happy"]))}e.includes(u.expenseLevel)&&(n.joinVirtual(d,l.JoinType.INNER).on((0,l.all)([(0,l.criterion_)(a.Fx.amount,u.lowerBound,l.ConditionType.GE),(0,l.criterion_)(a.Fx.amount,u.upperBound,l.ConditionType.LT)])),s.push(e=>e.orderByFirstElements(u.expenseLevel,["low","medium","high"])));let i=n.where((0,l.criterion)(a.Fx.scenario,(0,l.eq)("b"))).select(e,[],t);return s.map(e=>e(i)),i.build()}constructor(e){this.selectableFields=a.Fx._fields.concat([c.satisfactionLevel,u.expenseLevel]),this.measures=function(){let e=(0,l.sumIf)("Income",a.Fx.amount,(0,l.criterion)(a.Fx.incomeExpenditure,(0,l.eq)("Income"))),t=(0,l.sumIf)("Expenditure",a.Fx.amount,(0,l.criterion)(a.Fx.incomeExpenditure,(0,l.neq)("Income"))),n=(0,l.minus)("Net Income",e,t),s=(0,l.comparisonMeasureWithPeriod)("YoY Net Income Growth",l.ComparisonMethod.RELATIVE_DIFFERENCE,n,new Map([[a.Fx.year,"y-1"]]),new l.Year(a.Fx.year)),i=(0,l.multiply)("% YoY Net Income Growth",s,(0,l.integer)(100));return[l.countRows,e,t,n,i]}(),this.recordsProvider=e}}function m(e){return(0,s.jsxs)("div",{className:"col py-1",children:[(0,s.jsx)("button",{className:"btn btn-light btn-sm",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample",children:"Change satisfaction levels"}),(0,s.jsx)("div",{className:"collapse",id:"collapseExample",children:(0,s.jsx)("div",{style:{width:"15rem"},children:["neutral","happy","very happy"].map((t,n)=>(0,s.jsxs)("div",{className:"input-group input-group-sm",children:[(0,s.jsx)("span",{className:"input-group-text",style:{width:"6rem"},children:t}),(0,s.jsx)("input",{type:"number","aria-label":"lower",className:"form-control",defaultValue:p[n][1],onChange:t=>e.onChange(t,n,1)}),(0,s.jsx)("input",{type:"number","aria-label":"upper",className:"form-control",defaultValue:p[n][2],onChange:t=>e.onChange(t,n,2)})]},t))})})]})}function b(){let e=new h(()=>p);return(0,s.jsx)("div",{className:"ms-1",children:(0,s.jsx)(i.Z,{title:"Tutorial",queryProvider:e,elements:[(0,s.jsx)(m,{onChange:function(e,t,n){p[t][n]=parseInt(e.target.value)}},"sl")]})})}}},function(e){e.O(0,[798,971,69,744],function(){return e(e.s=9688)}),_N_E=e.O()}]);