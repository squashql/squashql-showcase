"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{5077:function(e,t,n){n.d(t,{$$:function(){return i},ZP:function(){return o},we:function(){return s}});var r,s,l=n(3827);function a(e){if("expression"in e)return e.alias;if(e.fullName)return e.fullName;if(e)return e.alias;throw Error("Unexpected type "+e)}function i(e){return"string"==typeof e?e:"type"in e&&"showTotals"in e?a(e.type):a(e)}function o(e){var t;return(0,l.jsxs)("div",{className:"container",children:[(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col px-0",children:function(e){switch(e){case 0:return"Rows";case 1:return"Columns";case 2:return"Measures";case 3:return"Filters"}}(e.axisType)}),(0,l.jsx)("div",{className:"col-8 px-0",children:(0,l.jsxs)("select",{value:"DEFAULT",className:"form-select form-select-sm",onChange:t=>(function(e,t){let n=t.selectableElements.slice(),r=t.selectedElements.slice(),s=n.map(e=>i(e)).indexOf(e.target.value);r.push(n[s]),n.splice(s,1),t.elementsDispatcher(r,n)})(t,e),children:[(0,l.jsx)("option",{value:"DEFAULT",disabled:!0,children:"Select option"}),e.selectableElements.map((e,t)=>(0,l.jsx)("option",{value:i(e),children:i(e)},t))]})})]}),(0,l.jsx)("div",{className:"row",children:null===(t=e.selectedElements)||void 0===t?void 0:t.map((t,n)=>(0,l.jsxs)("div",{className:"row m-1 p-1 text-bg-light",style:{borderRadius:4},children:[(0,l.jsxs)("div",{className:"px-1",children:[(0,l.jsx)("strong",{children:i(t)}),(0,l.jsx)("button",{type:"button",className:"btn-close float-end","aria-label":"Close",onClick:()=>(function(e,t){let n=t.selectableElements.slice(),r=t.selectedElements.slice(),s=r.map(e=>i(e)).indexOf(e);n.push(r[s]),r.splice(s,1),t.elementsDispatcher(r,n)})(i(t),e)})]}),(0,l.jsx)("div",{className:"row px-3",children:e.showTotalsCheckBox&&(0,l.jsxs)("div",{className:"col form-check",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"showTotals",checked:t.showTotals,onChange:()=>(function(e,t){let n=t.selectedElements.slice(),r=n.map(e=>i(e)).indexOf(e);n[r]={type:n[r].type,showTotals:!n[r].showTotals},t.elementsDispatcher(n,t.selectableElements)})(i(t),e)}),(0,l.jsx)("label",{className:"form-check-label",htmlFor:"showTotals",children:(0,l.jsx)("small",{children:"Show totals"})})]})})]},n))})]})}(r=s||(s={}))[r.ROWS=0]="ROWS",r[r.COLUMNS=1]="COLUMNS",r[r.VALUES=2]="VALUES",r[r.FILTERS=3]="FILTERS"},5151:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(3827),s=n(4090),l=n(7908),a=n(1248),i=l.Z.create({baseURL:a.H,headers:{"Content-type":"application/json"}});class o{upload(e,t,n){let r=new FormData;return r.append("file",e),i.post("/upload",r,{params:{table:t},headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n})}}let c=new o,u={selectedFiles:void 0,currentFile:void 0,progress:0,message:void 0};function d(e){let[t,n]=(0,s.useState)(u),{selectedFiles:l,currentFile:a,progress:i,message:o}=t;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"row row-cols-auto px-1 pb-1",children:[(0,r.jsx)("div",{className:"col px-1",children:(0,r.jsx)("input",{className:"form-control form-control-sm",type:"file",id:"formFile",onChange:function(e){n({progress:0,message:void 0,currentFile:e.target.files[0],selectedFiles:e.target.files})}})}),(0,r.jsx)("div",{className:"col px-1",children:(0,r.jsx)("button",{className:"btn btn-sm btn-success",disabled:!l,onClick:function(){let r=t.selectedFiles[0];n({currentFile:r}),c.upload(r,e.table,e=>{n({currentFile:r,progress:Math.round(100*e.loaded/e.total)})}).then(t=>{n({message:t.data,currentFile:void 0}),void 0!==e.onFileUploaded&&e.onFileUploaded()}).catch(()=>{n({message:"Could not upload the file!",currentFile:void 0})})},children:"Upload"})}),o&&(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("div",{className:"alert alert-sm alert-light alert-dismissible",role:"alert",children:[o,(0,r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]})})]}),a&&(0,r.jsx)("div",{className:"progress",children:(0,r.jsxs)("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar","aria-valuenow":i,"aria-valuemin":0,"aria-valuemax":100,style:{width:i+"%"},children:[i,"%"]})})]})}},1248:function(e,t,n){n.d(t,{H:function(){return r}});let r="http://localhost:8080"},8899:function(e,t,n){n.d(t,{C5:function(){return b},Ge:function(){return o},Qz:function(){return d},c9:function(){return c},fZ:function(){return u},iG:function(){return h},j3:function(){return i},np:function(){return m}});var r=n(4194),s=n(5077),l=n(4090),a=n(1857);function i(e){return{type:e,showTotals:!0}}function o(e){return{type:e,showTotals:!0}}class c{toJSON(){return{"@class":"PivotTableCellFormatter",field:this.field,label:this.formatter.label}}constructor(e,t){this.field=e,this.formatter=t}}function u(e,t,n,r,l){{let t=window.localStorage.getItem(e);if(t){let e=x(t),n=new Map,r=e.filters.map(s.$$);return e.filtersValues.forEach((t,l)=>{let a=r.indexOf((0,s.$$)(l));a>=0&&n.set(e.filters[a].type,t)}),e.filtersValues=n,e}}return{columns:[],filters:[],filtersValues:new Map,rows:[],selectableElements:t,selectableFilters:n,selectableValues:r,values:[],formatters:l}}function d(e,t){window.localStorage.setItem(e,JSON.stringify(t,p))}function m(e){window.localStorage.removeItem(e)}function f(e,t){if("filtersValues"===e){let e=new Map;return Object.entries(t).forEach(t=>{let[n,s]=t;return e.set((0,r.squashQLReviver)(n,JSON.parse(n)),s)}),e}if("object"==typeof t&&"PivotTableCellFormatter"===t["@class"]){let e=t.label,n=a.$0.find(t=>t.label===e);return n?new c(t.field,n):void 0}return t}function p(e,t){return"filtersValues"===e?Object.fromEntries(function(e){let t=new Map;for(let[n,r]of e)t.set(JSON.stringify(n),r);return t}(t)):t}function h(e){return x(e)}function x(e){return JSON.parse(e,(e,t)=>(0,r.squashQLReviver)(e,t,f))}function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,[n,r]=(0,l.useState)({states:[e],currentIndex:0}),s=(0,l.useCallback)(()=>{r({...n,currentIndex:Math.max(n.currentIndex-1,0)})},[n]),a=(0,l.useCallback)(()=>{r({...n,currentIndex:Math.min(n.currentIndex+1,n.states.length-1)})},[n]);return(0,l.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&e.shiftKey&&"z"===e.key?a():(e.ctrlKey||e.metaKey)&&"y"===e.key?a():(e.ctrlKey||e.metaKey)&&"z"===e.key&&s()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[a,s]),{state:n.states[n.currentIndex],setState:function(e){r(n=>{let r=e({...n.states[n.currentIndex]}),s=n.states.slice(0,n.currentIndex+1);return s.push(r),s.length>t&&(s=s.slice(s.length-t)),{states:s,currentIndex:s.length-1}})},undo:s,redo:a,canUndo:n.currentIndex>0,canRedo:n.currentIndex<n.states.length-1}}},1857:function(e,t,n){n.d(t,{$0:function(){return d},an:function(){return u},mI:function(){return c},yE:function(){return o}});let r=new Intl.NumberFormat("en-US",{style:"decimal",maximumFractionDigits:2}),s=new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}),l=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),a=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2}),i=Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}),o={label:"12.15%",formatter:e=>a.format(e)},c={label:"4,999.99",formatter:e=>r.format(e)},u={label:"VaR 95 - Date",formatter:e=>e?new Date(e[0],e[1]-1,e[2]).toLocaleDateString():""},d=[{label:"None",formatter:e=>e},c,{label:"$4,999.99",formatter:e=>l.format(e)},{label:"â‚¬4,999.99",formatter:e=>s.format(e)},{label:"5K",formatter:e=>i.format(e)},o,u]},8408:function(e,t,n){n.d(t,{T1:function(){return a},c_:function(){return i}});var r=n(4194),s=n(1248);class l{async executePivotQuery(e,t,n,r,s,l){let a=t.concat(n);if(0===a.length||0===r.length)return Promise.resolve();{let i={rows:t.map(e=>e.type),columns:n.map(e=>e.type),hiddenTotals:a.filter(e=>!e.showTotals).map(e=>e.type)},o=e.query(a.map(e=>e.type),r,s,i);return o.minify=l,this.querier.executePivotQuery(o,i)}}constructor(){this.querier=new r.Querier(s.H)}}function a(e){let t=[];return e.forEach((e,n)=>{let s=(0,r.any)(e.map(e=>(0,r.criterion)(n,(0,r.eq)(e))));t.push(s)}),(0,r.all)(t)}let i=new l}}]);